
noinst_LTLIBRARIES = libunits.la

include_HEADERS = \
	Alias.h \
        Basis.h \
        Callback.h \
        Cloude.h \
        complex_promote.h \
	complex_public.h \
        Configuration.h \
        Conventions.h \
	debug.h \
	Dirac.h \
        Error.h \
	escape.h \
        Estimate.h \
        EstimateStats.h \
	Factory.h \
	file_cast.h \
	FilePtr.h \
        Functor.h \
        HeapTracked.h \
	identifiable_factory.h \
	Identifiable.h \
	interface_factory.h \
	interface_stream.h \
        Jacobi.h \
        Jones.h \
	lazy.h \
        Matrix.h \
	Minkowski.h \
        ModifyRestore.h \
	NestedTextInterface.h \
	OwnStream.h \
        pad.h \
        Pauli.h \
        Quaternion.h \
        random.h \
        ReferenceAble.h \
        Reference.h \
        ReferenceTo.h \
	ReferenceVector.h \
        Registry.h \
        separate.h \
	Separator.h \
        Stokes.h \
	stringcase.h \
        stringtok.h \
        substitute.h \
	TextEditor.h \
	TextIndex.h \
        TextInterface.h \
	TextInterfaceAttribute.h \
	TextInterfaceElement.h \
	TextInterfaceEmbed.h \
	TextInterfaceInterpreter.h \
	TextInterfaceName.h \
	TextInterfaceParser.h \
	TextInterfaceProxy.h \
	TextInterfaceTo.h \
	TextLoop.h \
        tostring.h \
        Traits.h \
        Vector.h

libunits_la_SOURCES = \
	Alias.C \
        Configuration.C \
        Conventions.C \
	Dirac.C \
        Error.C \
	Estimate.C \
	escape.C \
	FilePtr.C \
        HeapTracked.C \
	Identifiable.C \
	OwnStream.C \
        pad.C \
	parse_indeces.C \
        Pauli.C \
	random.C \
        ReferenceAble.C \
        separate.C \
	Separator.C \
	stringcase.C \
        stringtok.C \
	test.cfg \
	tostring.C \
	TextIndex.C \
        TextInterface.C \
	TextInterfaceName.C \
	TextLoop.C

EXTRA_DIST = header_PromoteTraits MatrixTest.h

# This header file is generated by generate_PromoteTraits.C
nodist_include_HEADERS = PromoteTraits.h


TESTS = test_Alias test_tostring test_Conventions		    \
	test_Error test_Configuration		    \
	test_HeapTracked test_Reference test_circular_Reference	    \
	test_Registry test_Functor test_Callback test_separate	    \
	test_substitute test_escape test_Mueller test_inner_product \
	test_Basis test_Stokes test_Estimate			    \
        test_TextInterface test_parse_indeces test_TextIndex	    \
	test_Vector test_Matrix test_Jacobi test_eigen		    \
	test_Jones test_Quaternion test_Pauli			    \
	test_ModifyRestore test_Dirac

check_PROGRAMS = $(TESTS) many_references many_calls benchmark_tostring

test_Alias_SOURCES		= test_Alias.C
test_tostring_SOURCES		= test_tostring.C
test_Conventions_SOURCES	= test_Conventions.C
test_Error_SOURCES		= test_Error.C
test_Configuration_SOURCES	= test_Configuration.C
test_HeapTracked_SOURCES	= test_HeapTracked.C
test_Reference_SOURCES		= test_Reference.C
test_circular_Reference_SOURCES	= test_circular_Reference.C
test_Registry_SOURCES		= test_Registry.C
test_Functor_SOURCES		= test_Functor.C
test_Callback_SOURCES		= test_Callback.C
test_separate_SOURCES		= test_separate.C
test_substitute_SOURCES		= test_substitute.C
test_escape_SOURCES		= test_escape.C
test_Estimate_SOURCES		= test_Estimate.C
test_Vector_SOURCES		= test_Vector.C
test_Matrix_SOURCES		= test_Matrix.C
test_Jacobi_SOURCES		= test_Jacobi.C
test_eigen_SOURCES		= test_eigen.C

test_Jones_SOURCES		= test_Jones.C
test_Quaternion_SOURCES		= test_Quaternion.C
test_Pauli_SOURCES		= test_Pauli.C
test_Dirac_SOURCES		= test_Dirac.C
test_Basis_SOURCES		= test_Basis.C
test_Stokes_SOURCES		= test_Stokes.C

test_TextInterface_SOURCES	= test_TextInterface.C
test_parse_indeces_SOURCES	= test_parse_indeces.C
test_TextIndex_SOURCES		= test_TextIndex.C

test_ModifyRestore_SOURCES      = test_ModifyRestore.C
test_Mueller_SOURCES		= test_Mueller.C
test_inner_product_SOURCES	= test_inner_product.C 

many_references_SOURCES		= many_references.C
many_calls_SOURCES		= many_calls.C

benchmark_tostring_SOURCES	= benchmark_tostring.C


# ######################################################################
#
# Rule to generate PromoteTraits.h
#

PromoteTraits.h: $(srcdir)/header_PromoteTraits ./generate_PromoteTraits
	cp $(srcdir)/header_PromoteTraits PromoteTraits.h
	chmod u+w PromoteTraits.h
	./generate_PromoteTraits

# Depend on constructed include files
Error.lo: PromoteTraits.h

BUILT_SOURCES = PromoteTraits.h

noinst_PROGRAMS 		= generate_PromoteTraits
generate_PromoteTraits_SOURCES	= generate_PromoteTraits.C
generate_PromoteTraits_LDADD	=  

#############################################################################
#

LDADD = libunits.la

include $(top_srcdir)/config/Makefile.include
